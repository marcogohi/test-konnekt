# IKERLAN KonnektBox minimal setup

## Usage

1. Launch KonnektBox software stack
```
docker-compose up -d
```
2. Connect to MQTT broker and see real-time messages
```
docker run --init -it --rm --network host marcogohi/mqtt-cli sub -h 127.0.0.1 -t "appf" -v
```
3. See the real time message generated by the random-device

## Description
This repository has all the files necessary to execute a minimal version of KonnektBox.

The docker containers launched by docker-compose contain only the open-source component of KonnektBox.

The docker-compose launches a complete KonnektBox enviroment with the following details:

### Data generation (device)
A random generation device is creating random data and sending it to the Data Router (EdgeX Core Data)

### Data pipeline
The data pipeline executed in the container: "konnektbox-app-functions" is the following:
 ```
Receive data -> Parse JSON -> Filter measures -> Send dataclay -> Send local MQTT
 ```

### dataClay export
The data pipeline interacts with dataClay (read/write) via a REST API service.

### MQTT Export
The data pipeline publish data to a local Mosquitto MQTT Broker